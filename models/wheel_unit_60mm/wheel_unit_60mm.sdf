<?xml version='1.0'?>
<sdf version='1.4'>
  <model name="wheel_unit_60mm">
    
    <static>false</static>
  
    <!-- wheel base -->
    <link name='wheel_base'>
      <pose> 0 0 0.195 0 0 0</pose>
      <inertial>
        <pose> 0 0 0 0 0 0</pose>  
        <mass>0.5</mass>
      </inertial>
      <collision name='wheel_base_collision'>
        <geometry>
          <box>
            <size>0.12 0.09 0.04</size>
          </box>
        </geometry>
      </collision>
            
      
      <visual name='wheel_base_visual'>
        <geometry>
          <box>
            <size>0.12 0.09 0.04</size>
          </box>
        </geometry>
      </visual>
    </link>
    
    
    <!-- Wheel mount -->   
    <link name="wheel_mount">   
      <inertial>
        <pose> 0 0 0 0 0 0</pose>  
        <mass>0.5</mass>
      </inertial> 
      <!-- Axle -->
      <pose>0.04 0.0 0.17 0 0 0</pose>
      <collision name="mount_axle_collision">
        <geometry>
          <cylinder>
            <radius>.0125</radius>
            <length>.02</length>
          </cylinder>
        </geometry>
      </collision>
      
      <visual name="mount_axle_visual">
        <geometry>
          <cylinder>
            <radius>.0125</radius>
            <length>.02</length>
          </cylinder>
        </geometry>
      </visual>

      <!-- Horizontal plate -->
      <collision name="hor_plate_collision">
        <pose>-0.05 0.0 -0.01 0 0 0</pose>
        <geometry>
          <box>
            <size>0.14 0.04 0.005</size>
          </box>
        </geometry>
      </collision>
      <visual name="hor_plate_visual">
        <pose>-0.05 0.0 -0.01 0 0 0</pose>
        <geometry>
          <box>
            <size>0.14 0.04 0.005</size>
          </box>
        </geometry>
      </visual>
      
      <!-- Vertical plate -->
      <collision name="ver_plate_collision">
        <pose>-0.12 0.0 -0.07 0 0 0</pose>
        <geometry>
          <box>
            <size>0.005 0.04 0.12</size>
          </box>
        </geometry>
      </collision>
      <visual name="ver_plate_visual">
        <pose>-0.12 0.0 -0.07 0 0 0</pose>
        <geometry>
          <box>
            <size>0.005 0.04 0.12</size>
          </box>
        </geometry>
      </visual>
      
      <!-- Axle -->
      
      <collision name="wheel_axle_collision">
        <pose>-0.07 0.0 -0.11 0 1.5707 0</pose>
        <geometry>
          <cylinder>
            <radius>.015</radius>
            <length>.10</length>
          </cylinder>
        </geometry>
      </collision>
      
      <visual name="wheel_axle_visual">
        <pose>-0.07 0.0 -0.11 0 1.5707 0</pose>
        <geometry>
          <cylinder>
            <radius>.015</radius>
            <length>.10</length>
          </cylinder>
        </geometry>
      </visual>
      
    </link>
    
    
    <!-- Wheel -->  
    <link name="wheel">  
      <pose>0.02 0.0 0.06 0 1.5707 0</pose>
      <inertial>
        <pose> 0 0 0 0 0 0</pose>  
        <mass>0.5</mass>
      </inertial> 

      <collision name="wheel_collision">
        <geometry>
          <cylinder>
            <radius>.06</radius>
            <length>.03</length>
          </cylinder>
        </geometry>
        
       <surface>
          <friction>
            <ode>
              <mu>0.85</mu>
              <mu2>0.85</mu2>
              <fdir1>1 1 0</fdir1>
              <slip1>0.0</slip1>
              <slip2>0.0</slip2>
            </ode>
          </friction>
        </surface>
      
      </collision>
      <visual name="wheel_visual">
        <geometry>
          <cylinder>
            <radius>.06</radius>
            <length>.03</length>
          </cylinder>
        </geometry>
      </visual>
      

      
    </link>
    
    <!-- link between base and wheel_mount -->    
    <joint type="revolute" name="caster_joint">
      <pose>0 0 0 0 0 0</pose>
      <child>wheel_mount</child>
      <parent>base</parent>
      <axis>
        <xyz>0 0 1</xyz>
        <dynamics>
          <damping>10</damping>
          <friction>1</friction>
        </dynamics>   
      </axis>      
    </joint>
    
    <!-- link between wheel_mount and wheel -->    
    <joint type="revolute" name="wheel_joint">
      <pose>0 0 0 0 0 0</pose>
      <child>wheel</child>
      <parent>wheel_mount</parent>
      <axis>
        <xyz>1 0 0</xyz>
        <dynamics>
          <damping>10</damping>
          <friction>1</friction>
        </dynamics>
      </axis>
    </joint>
    
    <plugin name="wheel_unit_controller" filename="libWheelUnitController.so">
      <caster>caster_joint</caster>
      <wheel>wheel_joint</wheel> 
    </plugin>
    

  </model>
</sdf>
